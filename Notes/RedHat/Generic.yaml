#Butane file

<span style="color: rgb(86, 156, 214)">variant</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">fcos</span>

<span style="color: rgb(86, 156, 214)">version</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(181, 206, 168)">1.4.0</span>

<span style="color: rgb(86, 156, 214)">passwd</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(86, 156, 214)">users</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">tomster</span>

<span style="color: rgb(86, 156, 214)">ssh_authorized_keys</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(206, 145, 120)">ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINkTKkJS7Id1WCyA5Klu/moLG9mP5hTC+v2qYqypMF1u </span>[<span style="color: rgb(206, 145, 120)">contact@tommytran.io</span>](mailto:contact@tommytran.io)

<span style="color: rgb(86, 156, 214)">groups</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(206, 145, 120)">wheel</span>

<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(206, 145, 120)">sudo</span>

<span style="color: rgb(86, 156, 214)">systemd</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(86, 156, 214)">units</span><span style="color: rgb(204, 204, 204)">:</span>

<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">postinst.service</span>

<span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span>

<span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span>

<span style="color: rgb(206, 145, 120)">\[Unit\]</span>

<span style="color: rgb(206, 145, 120)">Description=Initial System Setup</span>

<span style="color: rgb(206, 145, 120)"># We run after \`systemd-machine-id-commit.service\` to ensure that</span>

<span style="color: rgb(206, 145, 120)"># \`ConditionFirstBoot=true\` services won't rerun on the next boot.</span>

<span style="color: rgb(206, 145, 120)">After=systemd-machine-id-commit.service</span>

<span style="color: rgb(206, 145, 120)">After=</span>[<span style="color: rgb(206, 145, 120)">network-online.target</span>](http://network-online.target)

<span style="color: rgb(206, 145, 120)"># We run before \`zincati.service\` to avoid conflicting rpm-ostree</span>

<span style="color: rgb(206, 145, 120)"># transactions.</span>

<span style="color: rgb(206, 145, 120)">Before=zincati.service</span>

<span style="color: rgb(206, 145, 120)">ConditionPathExists=!/var/lib/%N.stamp</span>

\
<span style="color: rgb(206, 145, 120)"> \[Service\] Type=oneshot RemainAfterExit=yes ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/GrapheneOS/infrastructure/main/chrony.con</span>](https://raw.githubusercontent.com/GrapheneOS/infrastructure/main/chrony.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/chrony.conf ExecStart=/usr/bin/systemctl restart chronyd ExecStart=/usr/bin/rpm-ostree install auditd firewalld tuned unbound ExecStart=/usr/bin/rpm-ostree override remove cifs-utils samba-common-libs samba-client-libs libsmbclient libwbclient samba-common sssd-krb5-common sssd-ipa sssd-nfs-idmap sssd-ldap sssd-client sssd-ad sssd-common sssd-krb5 sssd-common-pac ExecStart=/usr/bin/sed -i 's/nullok//g' /etc/pam.d/system-auth ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/Kicksecure/security-misc/master/etc/modprobe.d/30_security-misc.con</span>](https://raw.githubusercontent.com/Kicksecure/security-misc/master/etc/modprobe.d/30_security-misc.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/modprobe.d/30_security-misc.conf ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/990-security-misc.con</span>](https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/990-security-misc.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/sysctl.d/990-security-misc.conf ExecStart=/usr/bin/sed -i 's/kernel.yama.ptrace_scope=2/kernel.yama.ptrace_scope=1/g' /etc/sysctl.d/990-security-misc.conf ExecStart=/usr/bin/sed -i 's/net.ipv4.icmp_echo_ignore_all=1/net.ipv4.icmp_echo_ignore_all=0/g' /etc/sysctl.d/990-security-misc.conf ExecStart=/usr/bin/sed -i 's/net.ipv6.icmp.echo_ignore_all=1/net.ipv6.icmp.echo_ignore_all=0/g' /etc/sysctl.d/990-security-misc.conf ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/30_silent-kernel-printk.con</span>](https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/30_silent-kernel-printk.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/sysctl.d/30_silent-kernel-printk.conf ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/30_security-misc_kexec-disable.con</span>](https://raw.githubusercontent.com/Kicksecure/security-misc/master/usr/lib/sysctl.d/30_security-misc_kexec-disable.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/sysctl.d/30_security-misc_kexec-disable.conf ExecStart=/usr/bin/mkdir -p /etc/systemd/system/NetworkManager.service.d ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://gitlab.com/divested/brace/-/raw/master/brace/usr/lib/systemd/system/NetworkManager.service.d/99-brace.con</span>](https://gitlab.com/divested/brace/-/raw/master/brace/usr/lib/systemd/system/NetworkManager.service.d/99-brace.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/systemd/system/NetworkManager.service.d/99-brace.conf ExecStart=/usr/bin/mkdir -p /etc/systemd/system/irqbalance.service.d ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://gitlab.com/divested/brace/-/raw/master/brace/usr/lib/systemd/system/irqbalance.service.d/99-brace.con</span>](https://gitlab.com/divested/brace/-/raw/master/brace/usr/lib/systemd/system/irqbalance.service.d/99-brace.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/systemd/system/irqbalance.service.d/99-brace.conf ExecStart=/usr/bin/mkdir -p /etc/systemd/system/sshd.service.d ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/GrapheneOS/infrastructure/main/systemd/system/sshd.service.d/local.con</span>](https://raw.githubusercontent.com/GrapheneOS/infrastructure/main/systemd/system/sshd.service.d/local.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/systemd/system/sshd.service.d/override.conf ExecStart=/usr/bin/curl</span>[<span style="color: rgb(206, 145, 120)"> https://raw.githubusercontent.com/TommyTran732/Linux-Setup-Scripts/main/etc/ssh/sshd_config/10-custom.con</span>](https://raw.githubusercontent.com/TommyTran732/Linux-Setup-Scripts/main/etc/ssh/sshd_config/10-custom.conf)<span style="color: rgb(206, 145, 120)">f -o /etc/ssh/sshd_config.d/10-custom.conf ExecStart=/usr/bin/echo "CtrlAltDelBurstAction=none" &gt;&gt; /etc/systemd/system.conf ExecStart=/usr/bin/systemctl disable systemd-resolved ExecStart=/usr/bin/touch /var/lib/%N.stamp ExecStart=/usr/bin/systemctl --no-block reboot</span>\
<span style="color: rgb(206, 145, 120)"> \[Install\] WantedB</span>[<span style="color: rgb(206, 145, 120)">y=multi-user.targ</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">et</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">postinst2.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[Unit\] Description=Initial System Setup Part 2 # We run this after the packages have been overlayed Afte</span>[<span style="color: rgb(206, 145, 120)">r=network-online.targ</span>](http://network-online.target)<span style="color: rgb(206, 145, 120)">et ConditionPathExists=!/var/lib/%N.stamp ConditionPathExists=/var/lib/postinst.stamp</span>\
<span style="color: rgb(206, 145, 120)"> \[Install\] Wanted</span>[<span style="color: rgb(206, 145, 120)">By=multi-user.tar</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">get</span>\
<span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">setsebool.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[Service\] Type=oneshot ExecStart=/usr/sbin/setsebool container_use_cephfs off ExecStart=/usr/sbin/setsebool virt_use_nfs off ExecStart=/usr/sbin/setsebool virt_use_samba off RemainAfterExit=yes \[Install\] Wante</span>[<span style="color: rgb(206, 145, 120)">dBy=multi-user.ta</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">rget</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">gvisor-updater.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[Unit\] Description=gVisor Update Requi</span>[<span style="color: rgb(206, 145, 120)">res=network-online.ta</span>](http://network-online.target)<span style="color: rgb(206, 145, 120)">rget Before=docker.service</span>\
<span style="color: rgb(206, 145, 120)"> \[Service\] WorkingDirectory=/var/roothome Type=oneshot ExecStart=/usr/bin/sleep 5 ExecStart=/usr/bin/cur</span>[<span style="color: rgb(206, 145, 120)">l -O https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/</span>](https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/runsc)<span style="color: rgb(206, 145, 120)">runsc ExecStart=/usr/bin/cur</span>[<span style="color: rgb(206, 145, 120)">l -O https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/runsc.s</span>](https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/runsc.sha512)<span style="color: rgb(206, 145, 120)">ha512 ExecStart=/usr/bin/cur</span>[<span style="color: rgb(206, 145, 120)">l -O https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/containerd-shim-run</span>](https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/containerd-shim-runsc-v1)<span style="color: rgb(206, 145, 120)">sc-v1 ExecStart=/usr/bin/cur</span>[<span style="color: rgb(206, 145, 120)">l -O https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/containerd-shim-runsc-v1.s</span>](https://storage.googleapis.com/gvisor/releases/release/latest/x86_64/containerd-shim-runsc-v1.sha512)<span style="color: rgb(206, 145, 120)">ha512 ExecStart=/usr/bin/sha512sum -c runsc.sha512 -c containerd-shim-runsc-v1.sha512 ExecStart=/usr/bin/rm -f runsc.sha512 containerd-shim-runsc-v1.sha512 ExecStart=/usr/bin/chmod a+rx runsc containerd-shim-runsc-v1 ExecStart=/usr/bin/mv runsc containerd-shim-runsc-v1 /var/usrlocal/bin ExecStart=/usr/bin/chcon system_u:object_r:container_runtime_exec_t:s0 /var/usrlocal/bin/runsc</span>\
<span style="color: rgb(206, 145, 120)"> \[Install\] Wan</span>[<span style="color: rgb(206, 145, 120)">tedBy=multi-user.</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">target</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">docker.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">fstrim.timer</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">systemd-oomd.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">name</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">rpm-ostree-countme.timer</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">enabled</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">false</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">mask</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span>\
<span style="color: rgb(86, 156, 214)">storage</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">files</span><span style="color: rgb(204, 204, 204)">: - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/zincati/config.d/51-rollout-wariness.toml</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[identity\] rollout_wariness = 0</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/zincati/config.d/55-updates-strategy.toml</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[updates\] strategy = "periodic" \[updates.periodic\] time_zone = "localtime" \[\[updates.periodic.window\]\] days = \[ "Fri" \] start_time = "0:00" length_minutes = 60</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/issue</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> Authorized uses only. All activity may be monitored and reported.</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span>[<span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/is</span>](http://issue.net)<span style="color: rgb(206, 145, 120)">sue.net</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> Authorized uses only. All activity may be monitored and reported.</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/tuned/active_profile</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> virtual-guest</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/tuned/profile_mode</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> manual</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/systemd/zram-generator.conf</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[zram0\] zram-fraction = 1 max-zram-size = 8192 compression-algorithm = zstd</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/security/limits.d/30-disable-coredump.conf</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \* hard core 0</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/ssh/ssh_config.d/10-custom.conf</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> GSSAPIAuthentication no VerifyHostKeyDNS yes</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/sysconfig/chronyd</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> # Command-line options for chronyd OPTIONS="-F 1"</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/unbound/unbound.conf</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">overwrite</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">true</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> server: chroot: ""</span>\
<span style="color: rgb(206, 145, 120)"> auto-trust-anchor-file: "/var/lib/unbound/root.key" trust-anchor-signaling: yes root-key-sentinel: yes</span>\
<span style="color: rgb(206, 145, 120)"> tls-cert-bundle: /etc/ssl/certs/ca-certificates.crt tls-ciphers: "PROFILE=SYSTEM"</span>\
<span style="color: rgb(206, 145, 120)"> hide-http-user-agent: yes hide-identity: yes hide-trustanchor: yes hide-version: yes</span>\
<span style="color: rgb(206, 145, 120)"> deny-any: yes harden-algo-downgrade: yes harden-large-queries: yes harden-referral-path: yes harden-short-bufsize: yes ignore-cd-flag: yes max-udp-size: 3072 module-config: "validator iterator" qname-minimisation-strict: yes unwanted-reply-threshold: 10000000 use-caps-for-id: yes</span>\
<span style="color: rgb(206, 145, 120)"> outgoing-port-permit: 1024-65535</span>\
<span style="color: rgb(206, 145, 120)"> prefetch: yes prefetch-key: yes</span>\
<span style="color: rgb(206, 145, 120)"> forward-zone: name: "." forward-tls-upstream: yes forward-addr</span>[<span style="color: rgb(206, 145, 120)">: 1.1.1.2@853#security.clou</span>](http://security.cloudflare-dns.com)<span style="color: rgb(206, 145, 120)">dflare-dns.com forward-addr</span>[<span style="color: rgb(206, 145, 120)">: 1.0.0.2@853#security.clou</span>](http://security.cloudflare-dns.com)<span style="color: rgb(206, 145, 120)">dflare-dns.com forward-addr: 2606:4700:4</span>[<span style="color: rgb(206, 145, 120)">700::1112@853#security.clou</span>](http://security.cloudflare-dns.com)<span style="color: rgb(206, 145, 120)">dflare-dns.com forward-addr: 2606:4700:4700::1002@853#security.cloudflare-dns.comff</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/systemd/system/unbound.service.d/override.conf</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> \[Service\] MemoryDenyWriteExecute=true PrivateDevices=true PrivateTmp=true ProtectHome=true ProtectClock=true ProtectControlGroups=true ProtectKernelLogs=true ProtectKernelModules=true # This breaks using socket options like 'so-rcvbuf'. Explicitly disable for visibility. ProtectKernelTunables=true ProtectProc=invisible RestrictAddressFamilies=AF_INET AF_INET6 AF_NETLINK AF_UNIX RestrictRealtime=true SystemCallArchitectures=native SystemCallFilter=\~@clock @cpu-emulation @debug @keyring @module mount @obsolete @resources RestrictNamespaces=yes LockPersonality=yes</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/docker/daemon.json</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">contents</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">inline</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(197, 134, 192)">|</span><span style="color: rgb(206, 145, 120)"> { "default-runtime": "runsc-systrap", "runtimes": { "runsc-kvm": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=kvm", "--network=host" \] }, "runsc-systrap": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=systrap", "--network=host" \] }, "runsc-kvm --host-uds=open": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=kvm", "--network=host", "--host-uds=open" \] }, "runsc-systrap --host-uds=open": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=systrap", "--network=host", "--host-uds=open" \] }, "runsc-kvm-debug": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=kvm", "--network=host", "--debug-log=/tmp/runsc-kvm/", "--debug", "--strace" \] }, "runsc-systrap-debug": { "path": "/usr/local/bin/runsc", "runtimeArgs": \[ "--platform=systrap", "--network=host", "--debug-log=/tmp/runsc-systrap/", "--debug", "--strace" \] } } }</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">links</span><span style="color: rgb(204, 204, 204)">: - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/localtime</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">../usr/share/zoneinfo/America/New_York</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/s</span>[<span style="color: rgb(206, 145, 120)">ystemd/system/mul</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">ti-user.target.wants/unbound.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/usr/lib/systemd/system/unbound.service</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/s</span>[<span style="color: rgb(206, 145, 120)">ystemd/system/mul</span>](http://multi-user.target)<span style="color: rgb(206, 145, 120)">ti-user.target.wants/tuned.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/usr/lib/systemd/system/tuned.service</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/s</span>[<span style="color: rgb(206, 145, 120)">ystemd/system/kdump.</span>](http://kdump.service.target)<span style="color: rgb(206, 145, 120)">service.target</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/dev/null</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/systemd/system/debug-shell.service</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/dev/null</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(86, 156, 214)">path</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/etc/s</span>[<span style="color: rgb(206, 145, 120)">ystemd/system/ctrl-</span>](http://ctrl-alt-del.target)<span style="color: rgb(206, 145, 120)">alt-del.target</span><span style="color: rgb(204, 204, 204)"> </span><span style="color: rgb(86, 156, 214)">target</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(206, 145, 120)">/dev/null</span><span style="color: rgb(86, 156, 214)">kernel_arguments</span><span style="color: rgb(204, 204, 204)">: </span><span style="color: rgb(86, 156, 214)">should_exist</span><span style="color: rgb(204, 204, 204)">: - </span><span style="color: rgb(206, 145, 120)">spectre_v2=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">spec_store_bypass_disable=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">l1tf=full,force</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">mds=full,nosmt</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">tsx=off</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">tsx_async_abort=full,nosmt</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">kvm.nx_huge_pages=force</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">nosmt=force</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">l1d_flush=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">mmio_stale_data</span>[<span style="color: rgb(206, 145, 120)">=full,nosmt</span><span style="color: rgb(204, 204, 204)"> </span>](http://random.trust)<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(206, 145, 120)">random.trust_boo</span>[<span style="color: rgb(206, 145, 120)">tloader=off</span><span style="color: rgb(204, 204, 204)"> </span>](http://random.trust)<span style="color: rgb(204, 204, 204)">- </span><span style="color: rgb(206, 145, 120)">random.trust_cpu=off</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">intel_iommu=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">amd_iommu=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">iommu.passthrough=0 iommu.strict=1</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">slab_nomerge</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">init_on_alloc=1</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">init_on_free=1</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">pti=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">vsyscall=none</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">page_alloc.shuffle=1</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">randomize_kstack_offset=on</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">extra_latent_entropy</span><span style="color: rgb(204, 204, 204)"> - </span><span style="color: rgb(206, 145, 120)">debugfs=off</span>
